import{a as dt,b as st,c as ft,d as ht}from"./chunk-3L5WXJ2P.js";import{b as _e,d as ge}from"./chunk-3DL5UBSW.js";import{a as Ot,b as wt,c as St,d as Pt,e as Et,f as It,g as Tt,h as Vt,i as zt}from"./chunk-JLEVF76D.js";import{a as pt,b as _t,c as gt,d as bt,e as ut,f as kt,g as xt,h as Ct,i as vt,j as yt,k as Mt,m as At,n as Ft,p as Dt}from"./chunk-KJUX7SLI.js";import{c as rt,d as at}from"./chunk-OF5WNUAR.js";import{a as et,b as nt,c as it}from"./chunk-UL7CW2R5.js";import{a as Re}from"./chunk-HMYTSN73.js";import{a as lt,b as mt}from"./chunk-6FAHMFIB.js";import{b as Be,c as Le,e as $e,h as qe,k as tt,l as ot,m as ct}from"./chunk-3ZQEGT5D.js";import{a as Ae,b as Fe}from"./chunk-BNOJGNQL.js";import"./chunk-7ZLXLM7V.js";import"./chunk-TXZFNDAN.js";import"./chunk-7GRVYKBV.js";import{b as De,c as ze}from"./chunk-RQYI5VJN.js";import{a as Ne,b as je,c as Ue,d as E,f as He,g as Ge,i as We,j as Xe,l as Qe,m as Ze,p as Ke,q as Ye,r as Je}from"./chunk-VCTHQUAT.js";import"./chunk-5FVWXJNG.js";import{a as ke,b as xe,c as Ce,e as ve,f as ye,h as Me}from"./chunk-RW4EGM7U.js";import{D as q,E as Oe,F as we,N as Se,T as Pe,V as Ee,W as Ie,Y as Te,Z as Ve,k as be,u as ue}from"./chunk-347WKLGE.js";import{$a as te,Ab as h,Bc as fe,Cb as p,Cc as he,Db as ie,Eb as re,Gb as B,Gc as pe,Hb as L,Ib as $,Ja as l,Mb as T,Na as M,Ob as I,Pb as ae,Qb as c,Rb as C,Sb as v,T as y,Ua as A,Ub as F,Va as ee,Vb as D,Wb as z,Y as G,Ya as _,Yb as oe,Zb as ce,_ as W,_a as R,aa as X,bc as le,ca as S,f as H,ga as s,ha as f,hb as x,hc as me,ia as Q,ja as Z,nc as de,ob as d,pb as o,pc as P,qb as a,qc as se,ra as K,rb as u,va as Y,vb as O,wb as w,ya as J,yb as k,zb as ne}from"./chunk-5LZ43AQJ.js";import{a as U}from"./chunk-7CGTOI24.js";var Nt=["input"],jt=["label"],Ut=["*"],Ht=new X("mat-checkbox-default-options",{providedIn:"root",factory:Bt});function Bt(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var b=(function(i){return i[i.Init=0]="Init",i[i.Checked=1]="Checked",i[i.Unchecked=2]="Unchecked",i[i.Indeterminate=3]="Indeterminate",i})(b||{}),N=class{source;checked},Rt=Bt(),j=(()=>{class i{_elementRef=S(J);_changeDetectorRef=S(de);_ngZone=S(te);_animationsDisabled=Se();_options=S(Ht,{optional:!0});focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){let t=new N;return t.source=this,t.checked=e,t}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"};ariaLabel="";ariaLabelledby=null;ariaDescribedby;ariaExpanded;ariaControls;ariaOwns;_uniqueId;id;get inputId(){return`${this.id||this._uniqueId}-input`}required;labelPosition="after";name=null;change=new R;indeterminateChange=new R;value;disableRipple;_inputElement;_labelElement;tabIndex;color;disabledInteractive;_onTouched=()=>{};_currentAnimationClass="";_currentCheckState=b.Init;_controlValueAccessorChangeFn=()=>{};_validatorChangeFn=()=>{};constructor(){S(be).load(Ee);let e=S(new me("tabindex"),{optional:!0});this._options=this._options||Rt,this.color=this._options.color||Rt.color,this.tabIndex=e==null?0:parseInt(e)||0,this.id=this._uniqueId=S(ue).getId("mat-mdc-checkbox-"),this.disabledInteractive=this._options?.disabledInteractive??!1}ngOnChanges(e){e.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this.indeterminate)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}_checked=!1;get disabled(){return this._disabled}set disabled(e){e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}_disabled=!1;get indeterminate(){return this._indeterminate()}set indeterminate(e){let t=e!=this._indeterminate();this._indeterminate.set(e),t&&(e?this._transitionCheckState(b.Indeterminate):this._transitionCheckState(this.checked?b.Checked:b.Unchecked),this.indeterminateChange.emit(e)),this._syncIndeterminate(e)}_indeterminate=K(!1);_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorChangeFn=e}_transitionCheckState(e){let t=this._currentCheckState,r=this._getAnimationTargetElement();if(!(t===e||!r)&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(t,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);let m=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(m)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let e=this._options?.clickAction;!this.disabled&&e!=="noop"?(this.indeterminate&&e!=="check"&&Promise.resolve().then(()=>{this._indeterminate.set(!1),this.indeterminateChange.emit(!1)}),this._checked=!this._checked,this._transitionCheckState(this._checked?b.Checked:b.Unchecked),this._emitChangeEvent()):(this.disabled&&this.disabledInteractive||!this.disabled&&e==="noop")&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,t){if(this._animationsDisabled)return"";switch(e){case b.Init:if(t===b.Checked)return this._animationClasses.uncheckedToChecked;if(t==b.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case b.Unchecked:return t===b.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case b.Checked:return t===b.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case b.Indeterminate:return t===b.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){let t=this._inputElement;t&&(t.nativeElement.indeterminate=e)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=A({type:i,selectors:[["mat-checkbox"]],viewQuery:function(t,r){if(t&1&&(B(Nt,5),B(jt,5)),t&2){let m;L(m=$())&&(r._inputElement=m.first),L(m=$())&&(r._labelElement=m.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(t,r){t&2&&(ne("id",r.id),x("tabindex",null)("aria-label",null)("aria-labelledby",null),ae(r.color?"mat-"+r.color:"mat-accent"),I("_mat-animation-noopable",r._animationsDisabled)("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked)("mat-mdc-checkbox-disabled-interactive",r.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],ariaExpanded:[2,"aria-expanded","ariaExpanded",P],ariaControls:[0,"aria-controls","ariaControls"],ariaOwns:[0,"aria-owns","ariaOwns"],id:"id",required:[2,"required","required",P],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",P],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?void 0:se(e)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",P],checked:[2,"checked","checked",P],disabled:[2,"disabled","disabled",P],indeterminate:[2,"indeterminate","indeterminate",P]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[oe([{provide:Ne,useExisting:G(()=>i),multi:!0},{provide:Ue,useExisting:i,multi:!0}]),Y],ngContentSelectors:Ut,decls:15,vars:23,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(t,r){if(t&1){let m=k();ie(),o(0,"div",3),h("click",function(V){return s(m),f(r._preventBubblingFromLabel(V))}),o(1,"div",4,0)(3,"div",5),h("click",function(){return s(m),f(r._onTouchTargetClick())}),a(),o(4,"input",6,1),h("blur",function(){return s(m),f(r._onBlur())})("click",function(){return s(m),f(r._onInputClick())})("change",function(V){return s(m),f(r._onInteractionEvent(V))}),a(),u(6,"div",7),o(7,"div",8),Q(),o(8,"svg",9),u(9,"path",10),a(),Z(),u(10,"div",11),a(),u(11,"div",12),a(),o(12,"label",13,2),re(14),a()()}if(t&2){let m=T(2);d("labelPosition",r.labelPosition),l(4),I("mdc-checkbox--selected",r.checked),d("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled&&!r.disabledInteractive)("id",r.inputId)("required",r.required)("tabIndex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex),x("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-checked",r.indeterminate?"mixed":null)("aria-controls",r.ariaControls)("aria-disabled",r.disabled&&r.disabledInteractive?!0:null)("aria-expanded",r.ariaExpanded)("aria-owns",r.ariaOwns)("name",r.name)("value",r.value),l(7),d("matRippleTrigger",m)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),l(),d("for",r.inputId)}},dependencies:[Pe,It],styles:[`.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mat-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover>.mdc-checkbox__ripple{opacity:var(--mat-checkbox-unselected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mat-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:hover>.mat-mdc-checkbox-ripple>.mat-ripple-element{background-color:var(--mat-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus+.mdc-checkbox__ripple{opacity:var(--mat-checkbox-unselected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mat-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mat-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active>.mdc-checkbox__native-control+.mdc-checkbox__ripple{opacity:var(--mat-checkbox-unselected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mat-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active>.mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mat-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked+.mdc-checkbox__ripple{opacity:var(--mat-checkbox-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mat-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mat-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked+.mdc-checkbox__ripple{opacity:var(--mat-checkbox-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mat-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mat-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active>.mdc-checkbox__native-control:checked+.mdc-checkbox__ripple{opacity:var(--mat-checkbox-selected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mat-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active>.mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mat-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control+.mdc-checkbox__ripple{background-color:var(--mat-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1;width:var(--mat-checkbox-state-layer-size, 40px);height:var(--mat-checkbox-state-layer-size, 40px);top:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2);right:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2);left:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}@media(forced-colors: active){.mdc-checkbox--disabled{opacity:.5}}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mat-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));top:calc((var(--mat-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mat-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mat-checkbox-selected-icon-color, var(--mat-sys-primary));background-color:var(--mat-checkbox-selected-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mat-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mat-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox:hover>.mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover>.mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mat-checkbox-unselected-hover-icon-color, var(--mat-sys-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover>.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover>.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mat-checkbox-selected-hover-icon-color, var(--mat-sys-primary));background-color:var(--mat-checkbox-selected-hover-icon-color, var(--mat-sys-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mat-checkbox-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mat-checkbox-selected-focus-icon-color, var(--mat-sys-primary));background-color:var(--mat-checkbox-selected-focus-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover>.mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mat-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mat-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mat-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mat-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}@media(forced-colors: active){.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mat-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mat-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mat-mdc-checkbox-touch-target,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__native-control,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__ripple,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mat-mdc-checkbox-ripple::before,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__mixedmark{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox .mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox .mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:var(--mat-checkbox-touch-target-size, 48px);width:var(--mat-checkbox-touch-target-size, 48px);transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display, block)}.mat-mdc-checkbox .mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return i})(),Lt=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=ee({type:i});static \u0275inj=W({imports:[j,q,q]})}return i})();var Wt=()=>[5,10,25,50];function Xt(i,n){if(i&1&&(o(0,"mat-option",40)(1,"mat-icon"),c(2),a(),c(3),a()),i&2){let e=n.$implicit;d("value",e.id),l(2),C(e.icon),l(),v(" ",e.name," ")}}function Qt(i,n){if(i&1&&(o(0,"mat-option",40)(1,"mat-icon"),c(2),a(),c(3),a()),i&2){let e=n.$implicit;d("value",e.id),l(2),C(e.icon),l(),v(" ",e.name," ")}}function Zt(i,n){if(i&1&&(o(0,"mat-error"),c(1),a()),i&2){let e=p(2);l(),v(" ",e.getFormErrorMessage("description")," ")}}function Kt(i,n){i&1&&(o(0,"mat-icon"),c(1,"hourglass_empty"),a())}function Yt(i,n){if(i&1){let e=k();o(0,"mat-card",41)(1,"mat-card-header")(2,"mat-card-title"),c(3),a()(),o(4,"mat-card-content")(5,"form",42),h("ngSubmit",function(){s(e);let r=p();return f(r.saveOffer())}),o(6,"div",43)(7,"mat-form-field",44)(8,"mat-label"),c(9,"Offer Title"),a(),u(10,"input",45),o(11,"mat-error"),c(12),a()(),o(13,"mat-form-field",44)(14,"mat-label"),c(15,"Category"),a(),o(16,"mat-select",46),_(17,Qt,4,3,"mat-option",17),a(),o(18,"mat-error"),c(19),a()()(),o(20,"div",47)(21,"label",48),c(22,"Description"),a(),u(23,"app-rich-text-editor",49),_(24,Zt,2,1,"mat-error",50),a(),o(25,"div",43)(26,"mat-form-field",44)(27,"mat-label"),c(28,"Referral Link"),a(),u(29,"input",51),o(30,"mat-error"),c(31),a()(),o(32,"mat-form-field",44)(33,"mat-label"),c(34,"Referral Code (Optional)"),a(),u(35,"input",52),o(36,"mat-error"),c(37),a()()(),o(38,"mat-slide-toggle",53),c(39," Active "),a()()(),o(40,"mat-card-actions",54)(41,"button",55),h("click",function(){s(e);let r=p();return f(r.cancelEdit())}),c(42," Cancel "),a(),o(43,"button",56),h("click",function(){s(e);let r=p();return f(r.saveOffer())}),_(44,Kt,2,0,"mat-icon",50),c(45),a()()()}if(i&2){let e,t=p();l(3),v(" ",t.editingOffer?"Edit Offer":"Add New Offer"," "),l(2),d("formGroup",t.offerForm),l(7),C(t.getFormErrorMessage("title")),l(5),d("ngForOf",t.categories),l(2),C(t.getFormErrorMessage("categoryId")),l(4),d("maxLength",1e3)("autoSave",!0),l(),d("ngIf",((e=t.offerForm.get("description"))==null?null:e.invalid)&&((e=t.offerForm.get("description"))==null?null:e.touched)),l(7),C(t.getFormErrorMessage("referralLink")),l(6),C(t.getFormErrorMessage("referralCode")),l(4),d("disabled",t.saving),l(2),d("disabled",t.saving||t.offerForm.invalid),l(),d("ngIf",t.saving),l(),v(" ",t.editingOffer?"Update":"Create"," ")}}function Jt(i,n){if(i&1){let e=k();o(0,"th",57)(1,"mat-checkbox",58),h("change",function(){s(e);let r=p();return f(r.toggleAllSelection())}),a()()}if(i&2){let e=p();l(),d("checked",e.isAllSelected())("indeterminate",e.isIndeterminate()),x("aria-label","Select all offers")}}function en(i,n){if(i&1){let e=k();o(0,"td",59)(1,"mat-checkbox",60),h("change",function(){let r=s(e).$implicit,m=p();return f(m.toggleOfferSelection(r.id))}),a()()}if(i&2){let e=n.$implicit,t=p();l(),d("checked",t.isOfferSelected(e.id)),x("aria-label","Select "+e.title)}}function tn(i,n){i&1&&(o(0,"th",61),c(1,"Title"),a())}function nn(i,n){i&1&&(o(0,"mat-chip",67),c(1,"Inactive"),a())}function rn(i,n){if(i&1&&(o(0,"td",59)(1,"div",62)(2,"div",63),c(3),a(),o(4,"div",64)(5,"mat-icon",65),c(6),a(),c(7),a(),_(8,nn,2,0,"mat-chip",66),a()()),i&2){let e=n.$implicit,t=p();l(3),C(e.title),l(3),C(t.getCategoryIcon(e.categoryId)),l(),v(" ",t.getCategoryName(e.categoryId)," "),l(),d("ngIf",!e.isActive)}}function an(i,n){i&1&&(o(0,"th",57),c(1,"Code"),a())}function on(i,n){if(i&1){let e=k();o(0,"div",70)(1,"mat-chip",71),h("click",function(){s(e);let r=p().$implicit,m=p();return f(m.copyReferralCode(r.referralCode))}),o(2,"mat-icon",72),c(3,"content_copy"),a(),c(4),a()()}if(i&2){let e=p().$implicit;l(),x("aria-label","Copy referral code "+e.referralCode),l(3),v(" ",e.referralCode," ")}}function cn(i,n){i&1&&(o(0,"span",73),c(1,"\u2014"),a())}function ln(i,n){if(i&1&&(o(0,"td",59),_(1,on,5,2,"div",68)(2,cn,2,0,"span",69),a()),i&2){let e=n.$implicit;l(),d("ngIf",e.referralCode),l(),d("ngIf",!e.referralCode)}}function mn(i,n){i&1&&(o(0,"th",57),c(1,"Link"),a())}function dn(i,n){if(i&1){let e=k();o(0,"td",59)(1,"button",74),h("click",function(){let r=s(e).$implicit,m=p();return f(m.openOfferLink(r))}),o(2,"mat-icon"),c(3,"open_in_new"),a()()()}if(i&2){let e=n.$implicit;l(),x("aria-label","Open "+e.title+" referral link")}}function sn(i,n){i&1&&(o(0,"th",61),c(1,"Clicks"),a())}function fn(i,n){if(i&1&&(o(0,"td",59)(1,"div",75)(2,"mat-icon",76),c(3,"visibility"),a(),c(4),a()()),i&2){let e=n.$implicit;l(4),v(" ",e.clickCount||0," ")}}function hn(i,n){i&1&&(o(0,"th",57),c(1,"Status"),a())}function pn(i,n){if(i&1){let e=k();o(0,"td",59)(1,"mat-slide-toggle",60),h("change",function(){let r=s(e).$implicit,m=p();return f(m.toggleOfferStatus(r))}),a()()}if(i&2){let e=n.$implicit;l(),d("checked",e.isActive),x("aria-label","Toggle "+e.title+" status")}}function _n(i,n){i&1&&(o(0,"th",61),c(1,"Updated"),a())}function gn(i,n){if(i&1&&(o(0,"td",59)(1,"div",77),c(2),a()()),i&2){let e=n.$implicit,t=p();l(2),C(t.formatDate(e.updatedAt))}}function bn(i,n){i&1&&(o(0,"th",57),c(1,"Actions"),a())}function un(i,n){if(i&1){let e=k();o(0,"td",59)(1,"div",78)(2,"button",74),h("click",function(){let r=s(e).$implicit,m=p();return f(m.editOffer(r))}),o(3,"mat-icon"),c(4,"edit"),a()(),o(5,"button",79),h("click",function(){let r=s(e).$implicit,m=p();return f(m.deleteOffer(r))}),o(6,"mat-icon"),c(7,"delete"),a()()()()}if(i&2){let e=n.$implicit;l(2),x("aria-label","Edit "+e.title),l(3),x("aria-label","Delete "+e.title)}}function kn(i,n){i&1&&u(0,"tr",80)}function xn(i,n){if(i&1&&u(0,"tr",81),i&2){let e=n.$implicit;I("inactive-row",!e.isActive)}}function Cn(i,n){i&1&&(o(0,"div",82),u(1,"mat-spinner",83),o(2,"p"),c(3,"Loading offers..."),a()())}function vn(i,n){i&1&&(o(0,"p"),c(1," Try adjusting your search or filter criteria. "),a())}function yn(i,n){i&1&&(o(0,"p"),c(1,"Get started by adding your first referral offer."),a())}function Mn(i,n){if(i&1){let e=k();o(0,"div",84)(1,"mat-icon",85),c(2,"local_offer"),a(),o(3,"h3"),c(4,"No offers found"),a(),_(5,vn,2,0,"p",86)(6,yn,2,0,"ng-template",null,1,le),o(8,"button",5),h("click",function(){s(e);let r=p();return f(r.showAddForm())}),o(9,"mat-icon"),c(10,"add"),a(),c(11," Add Offer "),a()()}if(i&2){let e=T(7),t=p();l(5),d("ngIf",t.searchTerm||t.selectedCategoryId||t.showActiveOnly)("ngIfElse",e)}}function On(i,n){if(i&1){let e=k();o(0,"mat-paginator",87),h("page",function(r){s(e);let m=p();return f(m.onPageChange(r))}),a()}if(i&2){let e=p();d("length",e.totalItems)("pageSize",e.pageSize)("pageIndex",e.currentPage-1)("pageSizeOptions",ce(5,Wt))("showFirstLastButtons",!0)}}var $t=class i{constructor(n,e,t,r,m,g,V,wn){this.route=n;this.router=e;this.referralService=t;this.categoryService=r;this.validationService=m;this.dialog=g;this.snackBar=V;this.fb=wn;this.offerForm=this.createOfferForm()}destroy$=new H;displayedColumns=["select","title","referralCode","referralLink","clickCount","isActive","updatedAt","actions"];offers=[];categories=[];selectedCategory=null;selectedOffers=new Set;currentPage=1;pageSize=10;totalItems=0;sortBy="updatedAt";sortDirection="desc";searchTerm="";showActiveOnly=!1;selectedCategoryId="";offerForm;editingOffer=null;showForm=!1;loading=!1;saving=!1;ngOnInit(){this.loadCategories(),this.refreshOffers()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}createOfferForm(){return this.fb.group({title:["",[E.required,E.maxLength(100)]],description:["",[E.required,E.maxLength(1e3)]],referralLink:["",[E.required]],referralCode:["",[E.maxLength(50)]],categoryId:["",[E.required]],isActive:[!0]})}loadCategories(){this.categoryService.getActiveCategories().pipe(y(this.destroy$)).subscribe({next:n=>{this.categories=n;let e=this.route.snapshot.queryParams.category;e&&(this.selectedCategoryId=e,this.selectedCategory=n.find(t=>t.id===e)||null)},error:n=>{console.error("Error loading categories:",n),this.showSnackBar("Error loading categories")}})}refreshOffers(){this.loading=!0,this.selectedOffers.clear(),this.referralService.getOffers({page:this.currentPage,limit:this.pageSize,sortBy:this.sortBy,sortDirection:this.sortDirection,searchTerm:this.searchTerm,categoryId:this.selectedCategoryId||void 0,isActive:this.showActiveOnly?!0:void 0}).pipe(y(this.destroy$)).subscribe({next:n=>{this.offers=n.data,this.totalItems=n.total,this.loading=!1},error:n=>{console.error("Error loading offers:",n),this.showSnackBar("Error loading offers"),this.loading=!1}})}onPageChange(n){this.currentPage=n.pageIndex+1,this.pageSize=n.pageSize,this.refreshOffers()}onSortChange(n){this.sortBy=n.active,this.sortDirection=n.direction==="desc"?"desc":"asc",this.refreshOffers()}onSearchChange(){this.currentPage=1,this.refreshOffers()}onFilterChange(){this.currentPage=1,this.refreshOffers()}onCategoryChange(){this.selectedCategory=this.categories.find(n=>n.id===this.selectedCategoryId)||null,this.currentPage=1,this.refreshOffers()}isAllSelected(){return this.offers.length>0&&this.selectedOffers.size===this.offers.length}isIndeterminate(){return this.selectedOffers.size>0&&this.selectedOffers.size<this.offers.length}toggleAllSelection(){this.isAllSelected()?this.selectedOffers.clear():this.offers.forEach(n=>this.selectedOffers.add(n.id))}toggleOfferSelection(n){this.selectedOffers.has(n)?this.selectedOffers.delete(n):this.selectedOffers.add(n)}isOfferSelected(n){return this.selectedOffers.has(n)}showAddForm(){this.editingOffer=null,this.offerForm.reset({title:"",description:"",referralLink:"",referralCode:"",categoryId:this.selectedCategoryId||"",isActive:!0}),this.showForm=!0}editOffer(n){this.editingOffer=n,this.offerForm.patchValue({title:n.title,description:n.description,referralLink:n.referralLink,referralCode:n.referralCode||"",categoryId:n.categoryId,isActive:n.isActive}),this.showForm=!0}cancelEdit(){this.showForm=!1,this.editingOffer=null,this.offerForm.reset()}saveOffer(){if(this.offerForm.invalid){this.markFormGroupTouched();return}this.saving=!0;let n=this.offerForm.value;if(this.editingOffer){let e=U({id:this.editingOffer.id},n);this.referralService.updateOffer(e).pipe(y(this.destroy$)).subscribe({next:t=>{t.success?(this.showSnackBar("Offer updated successfully"),this.cancelEdit(),this.refreshOffers()):this.showSnackBar(t.error||"Error updating offer"),this.saving=!1},error:t=>{console.error("Error updating offer:",t),this.showSnackBar("Error updating offer"),this.saving=!1}})}else{let e=n;this.referralService.createOffer(e).pipe(y(this.destroy$)).subscribe({next:t=>{t.success?(this.showSnackBar("Offer created successfully"),this.cancelEdit(),this.refreshOffers()):this.showSnackBar(t.error||"Error creating offer"),this.saving=!1},error:t=>{console.error("Error creating offer:",t),this.showSnackBar("Error creating offer"),this.saving=!1}})}}toggleOfferStatus(n){this.referralService.toggleOfferStatus(n.id).pipe(y(this.destroy$)).subscribe({next:e=>{e.success?(this.showSnackBar(`Offer ${e.data?.isActive?"activated":"deactivated"}`),this.refreshOffers()):this.showSnackBar(e.error||"Error updating offer status")},error:e=>{console.error("Error updating offer status:",e),this.showSnackBar("Error updating offer status")}})}deleteOffer(n){confirm(`Are you sure you want to delete "${n.title}"?`)&&this.referralService.deleteOffer(n.id).pipe(y(this.destroy$)).subscribe({next:e=>{e.success?(this.showSnackBar("Offer deleted successfully"),this.refreshOffers()):this.showSnackBar(e.error||"Error deleting offer")},error:e=>{console.error("Error deleting offer:",e),this.showSnackBar("Error deleting offer")}})}bulkActivate(){if(this.selectedOffers.size===0)return;let n=Array.from(this.selectedOffers);this.referralService.bulkUpdateOffers(n,{isActive:!0}).pipe(y(this.destroy$)).subscribe({next:e=>{e.success?(this.showSnackBar(`${e.data?.length} offers activated`),this.selectedOffers.clear(),this.refreshOffers()):this.showSnackBar(e.error||"Error activating offers")},error:e=>{console.error("Error activating offers:",e),this.showSnackBar("Error activating offers")}})}bulkDeactivate(){if(this.selectedOffers.size===0)return;let n=Array.from(this.selectedOffers);this.referralService.bulkUpdateOffers(n,{isActive:!1}).pipe(y(this.destroy$)).subscribe({next:e=>{e.success?(this.showSnackBar(`${e.data?.length} offers deactivated`),this.selectedOffers.clear(),this.refreshOffers()):this.showSnackBar(e.error||"Error deactivating offers")},error:e=>{console.error("Error deactivating offers:",e),this.showSnackBar("Error deactivating offers")}})}bulkDelete(){if(this.selectedOffers.size!==0&&confirm(`Are you sure you want to delete ${this.selectedOffers.size} selected offers?`)){let n=Array.from(this.selectedOffers).map(e=>this.referralService.deleteOffer(e).toPromise());Promise.all(n).then(()=>{this.showSnackBar(`${this.selectedOffers.size} offers deleted`),this.selectedOffers.clear(),this.refreshOffers()}).catch(e=>{console.error("Error deleting offers:",e),this.showSnackBar("Error deleting some offers")})}}openOfferLink(n){window.open(n.referralLink,"_blank","noopener,noreferrer")}copyReferralCode(n){navigator.clipboard.writeText(n).then(()=>{this.showSnackBar("Referral code copied to clipboard")}).catch(e=>{console.error("Failed to copy code:",e),this.showSnackBar("Failed to copy referral code")})}getCategoryName(n){let e=this.categories.find(t=>t.id===n);return e?e.name:"Unknown"}getCategoryIcon(n){let e=this.categories.find(t=>t.id===n);return e?e.icon:"category"}getFormErrorMessage(n){let e=this.offerForm.get(n);if(e?.hasError("required"))return`${n} is required`;if(e?.hasError("maxlength")){let t=e.errors?.maxlength?.requiredLength;return`${n} must be less than ${t} characters`}return""}markFormGroupTouched(){Object.keys(this.offerForm.controls).forEach(n=>{this.offerForm.get(n)?.markAsTouched()})}showSnackBar(n){this.snackBar.open(n,"Close",{duration:3e3,horizontalPosition:"right",verticalPosition:"top"})}trackByOffer(n,e){return e.id}formatDate(n){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(n))}static \u0275fac=function(e){return new(e||i)(M(_e),M(ge),M(ze),M(De),M(Re),M(Pt),M(lt),M(Ke))};static \u0275cmp=A({type:i,selectors:[["app-offer-management"]],decls:81,vars:17,consts:[["bulkMenu","matMenu"],["noDataTemplate",""],[1,"offer-management-container"],[1,"header-section"],[1,"header-actions"],["mat-raised-button","","color","primary",3,"click"],["mat-stroked-button","",3,"matMenuTriggerFor","disabled"],["mat-menu-item","",3,"click"],["mat-menu-item","",1,"warn-action",3,"click"],[1,"filters-card"],[1,"filters-row"],["appearance","outline",1,"search-field"],["matInput","","placeholder","Search by title, description, or code...",3,"ngModelChange","ngModel"],["matSuffix",""],["appearance","outline",1,"category-field"],[3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"active-filter",3,"ngModelChange","ngModel"],["mat-icon-button","",3,"click","disabled"],["class","form-card",4,"ngIf"],[1,"table-card"],[1,"table-container"],["mat-table","","matSort","",3,"matSortChange","dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","referralCode"],["matColumnDef","referralLink"],["matColumnDef","clickCount"],["matColumnDef","isActive"],["matColumnDef","updatedAt"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"inactive-row",4,"matRowDef","matRowDefColumns"],["class","loading-overlay",4,"ngIf"],["class","empty-state",4,"ngIf"],["aria-label","Select page of offers",3,"length","pageSize","pageIndex","pageSizeOptions","showFirstLastButtons","page",4,"ngIf"],[3,"value"],[1,"form-card"],[3,"ngSubmit","formGroup"],[1,"form-row"],["appearance","outline"],["matInput","","formControlName","title","placeholder","Enter offer title"],["formControlName","categoryId"],[1,"description-field"],[1,"field-label"],["formControlName","description","placeholder","Enter offer description with formatting...",3,"maxLength","autoSave"],[4,"ngIf"],["matInput","","formControlName","referralLink","placeholder","https://example.com/ref/123"],["matInput","","formControlName","referralCode","placeholder","REF123"],["formControlName","isActive",1,"active-toggle"],["align","end"],["mat-button","",3,"click","disabled"],["mat-raised-button","","color","primary",3,"click","disabled"],["mat-header-cell",""],[3,"change","checked","indeterminate"],["mat-cell",""],[3,"change","checked"],["mat-header-cell","","mat-sort-header",""],[1,"offer-title"],[1,"title-text"],[1,"category-chip"],[1,"category-icon"],["class","inactive-chip",4,"ngIf"],[1,"inactive-chip"],["class","referral-code",4,"ngIf"],["class","no-code",4,"ngIf"],[1,"referral-code"],[1,"code-chip",3,"click"],["matChipTrailingIcon",""],[1,"no-code"],["mat-icon-button","",3,"click"],[1,"click-count"],[1,"count-icon"],[1,"updated-date"],[1,"action-buttons"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],[1,"loading-overlay"],["diameter","40"],[1,"empty-state"],[1,"empty-icon"],[4,"ngIf","ngIfElse"],["aria-label","Select page of offers",3,"page","length","pageSize","pageIndex","pageSizeOptions","showFirstLastButtons"]],template:function(e,t){if(e&1){let r=k();o(0,"div",2)(1,"div",3)(2,"h1"),c(3,"Offer Management"),a(),o(4,"div",4)(5,"button",5),h("click",function(){return s(r),f(t.showAddForm())}),o(6,"mat-icon"),c(7,"add"),a(),c(8," Add Offer "),a(),o(9,"button",6)(10,"mat-icon"),c(11,"more_vert"),a(),c(12),a(),o(13,"mat-menu",null,0)(15,"button",7),h("click",function(){return s(r),f(t.bulkActivate())}),o(16,"mat-icon"),c(17,"visibility"),a(),c(18," Activate Selected "),a(),o(19,"button",7),h("click",function(){return s(r),f(t.bulkDeactivate())}),o(20,"mat-icon"),c(21,"visibility_off"),a(),c(22," Deactivate Selected "),a(),o(23,"button",8),h("click",function(){return s(r),f(t.bulkDelete())}),o(24,"mat-icon"),c(25,"delete"),a(),c(26," Delete Selected "),a()()()(),o(27,"mat-card",9)(28,"mat-card-content")(29,"div",10)(30,"mat-form-field",11)(31,"mat-label"),c(32,"Search offers"),a(),o(33,"input",12),z("ngModelChange",function(g){return s(r),D(t.searchTerm,g)||(t.searchTerm=g),f(g)}),h("ngModelChange",function(){return s(r),f(t.onSearchChange())}),a(),o(34,"mat-icon",13),c(35,"search"),a()(),o(36,"mat-form-field",14)(37,"mat-label"),c(38,"Category"),a(),o(39,"mat-select",15),z("ngModelChange",function(g){return s(r),D(t.selectedCategoryId,g)||(t.selectedCategoryId=g),f(g)}),h("ngModelChange",function(){return s(r),f(t.onCategoryChange())}),o(40,"mat-option",16),c(41,"All Categories"),a(),_(42,Xt,4,3,"mat-option",17),a()(),o(43,"mat-slide-toggle",18),z("ngModelChange",function(g){return s(r),D(t.showActiveOnly,g)||(t.showActiveOnly=g),f(g)}),h("ngModelChange",function(){return s(r),f(t.onFilterChange())}),c(44," Show active only "),a(),o(45,"button",19),h("click",function(){return s(r),f(t.refreshOffers())}),o(46,"mat-icon"),c(47,"refresh"),a()()()()(),_(48,Yt,46,14,"mat-card",20),o(49,"mat-card",21)(50,"div",22)(51,"table",23),h("matSortChange",function(g){return s(r),f(t.onSortChange(g))}),O(52,24),_(53,Jt,2,3,"th",25)(54,en,2,2,"td",26),w(),O(55,27),_(56,tn,2,0,"th",28)(57,rn,9,4,"td",26),w(),O(58,29),_(59,an,2,0,"th",25)(60,ln,3,2,"td",26),w(),O(61,30),_(62,mn,2,0,"th",25)(63,dn,4,1,"td",26),w(),O(64,31),_(65,sn,2,0,"th",28)(66,fn,5,1,"td",26),w(),O(67,32),_(68,hn,2,0,"th",25)(69,pn,2,2,"td",26),w(),O(70,33),_(71,_n,2,0,"th",28)(72,gn,3,1,"td",26),w(),O(73,34),_(74,bn,2,0,"th",25)(75,un,8,2,"td",26),w(),_(76,kn,1,0,"tr",35)(77,xn,1,2,"tr",36),a(),_(78,Cn,4,0,"div",37)(79,Mn,12,2,"div",38),a(),_(80,On,1,6,"mat-paginator",39),a()()}if(e&2){let r=T(14);l(9),d("matMenuTriggerFor",r)("disabled",t.selectedOffers.size===0),l(3),v(" Bulk Actions (",t.selectedOffers.size,") "),l(21),F("ngModel",t.searchTerm),l(6),F("ngModel",t.selectedCategoryId),l(3),d("ngForOf",t.categories),l(),F("ngModel",t.showActiveOnly),l(2),d("disabled",t.loading),l(),I("spinning",t.loading),l(2),d("ngIf",t.showForm),l(3),d("dataSource",t.offers),l(25),d("matHeaderRowDef",t.displayedColumns),l(),d("matRowDefColumns",t.displayedColumns),l(),d("ngIf",t.loading),l(),d("ngIf",t.offers.length===0&&!t.loading),l(),d("ngIf",t.offers.length)}},dependencies:[pe,fe,he,Ye,Xe,je,He,Ge,We,Je,Qe,Ze,Mt,pt,gt,xt,bt,_t,Ct,ut,kt,vt,yt,at,rt,St,Ot,wt,Ve,Te,Ie,we,Oe,Et,tt,qe,Be,Le,$e,ct,ot,it,nt,et,Vt,Tt,mt,Me,ke,ve,Ce,ye,xe,Dt,Ft,At,Fe,Ae,Lt,j,ht,st,dt,ft,zt],styles:[".offer-management-container[_ngcontent-%COMP%]{padding:1.5rem;max-width:1600px;margin:0 auto}.header-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.header-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#333;font-weight:500}.header-section[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:1rem}.header-section[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}@media (max-width: 768px){.header-section[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.header-section[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}}.filters-card[_ngcontent-%COMP%]{margin-bottom:1.5rem}.filters-card[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;flex-wrap:wrap}.filters-card[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{flex:2;min-width:300px}.filters-card[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]   .category-field[_ngcontent-%COMP%]{flex:1;min-width:200px}.filters-card[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]   .active-filter[_ngcontent-%COMP%]{white-space:nowrap}@media (max-width: 768px){.filters-card[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:1rem}.filters-card[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%], .filters-card[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]   .category-field[_ngcontent-%COMP%]{min-width:auto}}.form-card[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-card[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1rem}.form-card[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1}.form-card[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .active-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:1rem}@media (max-width: 768px){.form-card[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{flex-direction:column;gap:0}}.form-card[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%}.form-card[_ngcontent-%COMP%]   .description-field[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}.form-card[_ngcontent-%COMP%]   .description-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#0009;margin-bottom:.5rem}.form-card[_ngcontent-%COMP%]   .description-field[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]{font-size:.75rem;color:#f44336;margin-top:.25rem;display:block}.table-card[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]{position:relative;min-height:400px}.table-card[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.table-card[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .offer-title[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.table-card[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .offer-title[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]{font-weight:500;color:#333}.table-card[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .offer-title[_ngcontent-%COMP%]   .category-chip[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;font-size:.8rem;color:#666}.table-card[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .offer-title[_ngcontent-%COMP%]   .category-chip[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem;color:#1976d2}.table-card[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .offer-title[_ngcontent-%COMP%]   .inactive-chip[_ngcontent-%COMP%]{background-color:#f44336;color:#fff;font-size:.7rem;height:20px;line-height:20px;align-self:flex-start}.table-card[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .referral-code[_ngcontent-%COMP%]   .code-chip[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1976d2;font-weight:500;cursor:pointer;transition:all .2s ease}.table-card[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .referral-code[_ngcontent-%COMP%]   .code-chip[_ngcontent-%COMP%]:hover{background-color:#bbdefb;transform:scale(1.02)}.table-card[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .referral-code[_ngcontent-%COMP%]   .code-chip[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.table-card[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .no-code[_ngcontent-%COMP%]{color:#999;font-style:italic}.table-card[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .click-count[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem}.table-card[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .click-count[_ngcontent-%COMP%]   .count-icon[_ngcontent-%COMP%]{font-size:1rem;color:#666}.table-card[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .updated-date[_ngcontent-%COMP%]{font-size:.85rem;color:#666}.table-card[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:.25rem}.table-card[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5}.table-card[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .inactive-row[_ngcontent-%COMP%]{opacity:.6;background-color:#fafafa}.loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#fffc;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1rem;z-index:10}.loading-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem;color:#666}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:4rem;width:4rem;height:4rem;color:#ccc;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem;color:#555}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin:0 0 1.5rem}.empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin:0 auto}.warn-action[_ngcontent-%COMP%]{color:#f44336!important}.warn-action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f44336!important}.spinning[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 1400px){.table-container[_ngcontent-%COMP%]{overflow-x:auto}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{min-width:1200px}}@media (max-width: 768px){.offer-management-container[_ngcontent-%COMP%]{padding:1rem}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{min-width:800px}.table-container[_ngcontent-%COMP%]   .offer-title[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]{font-size:.9rem}}@media (max-width: 480px){.header-section[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{flex-direction:column;width:100%}.header-section[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{justify-content:center}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{min-width:600px}}@media (prefers-contrast: high){.inactive-row[_ngcontent-%COMP%]{border-left:3px solid #f44336}.category-icon[_ngcontent-%COMP%]{color:#000!important}.code-chip[_ngcontent-%COMP%]{border:1px solid #1976d2}}@media print{.header-actions[_ngcontent-%COMP%], .filters-card[_ngcontent-%COMP%], .form-card[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%], mat-paginator[_ngcontent-%COMP%]{display:none!important}.table-card[_ngcontent-%COMP%]{box-shadow:none;border:1px solid #ccc}.offer-title[_ngcontent-%COMP%]   .inactive-chip[_ngcontent-%COMP%]{background-color:#ccc!important;color:#000!important}}"]})};export{$t as OfferManagementComponent};
