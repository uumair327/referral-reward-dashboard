import{a as t}from"./chunk-RQYI5VJN.js";import{Z as f,k as l}from"./chunk-5LZ43AQJ.js";var d=class o{constructor(){}validateUrl(e){return!e||e.trim().length===0?l({isValid:!1,error:"URL is required"}):t.isValidUrl(e)?l({isValid:!0}):l({isValid:!1,error:"Please enter a valid URL (http:// or https://)"})}async checkUrlAccessibility(e){try{return{isAccessible:!0,status:(await fetch(e,{method:"HEAD",mode:"no-cors"})).status}}catch{return{isAccessible:!1,error:"Unable to verify URL accessibility"}}}validateReferralCode(e,r,i=[]){let a=[];return!e||e.trim().length===0?{isValid:!0,errors:[]}:(t.isValidReferralCode(e)||a.push({field:"referralCode",message:"Referral code can only contain letters, numbers, hyphens, and underscores"}),e.length>50&&a.push({field:"referralCode",message:"Referral code must be less than 50 characters"}),i.includes(e.toLowerCase())&&a.push({field:"referralCode",message:"This referral code already exists in this category"}),{isValid:a.length===0,errors:a})}validateReferralOffer(e){return t.validateReferralOffer(e)}validateCreateReferralOfferRequest(e){return t.validateCreateReferralOfferRequest(e)}validateCategory(e){return t.validateCategory(e)}validateCreateCategoryRequest(e){return t.validateCreateCategoryRequest(e)}validateEmail(e){return!e||e.trim().length===0?{isValid:!1,error:"Email is required"}:t.isValidEmail(e)?{isValid:!0}:{isValid:!1,error:"Please enter a valid email address"}}validateFormField(e,r,i){let a=[];for(let n of i){let s=n.validator(r);s.isValid||a.push({field:e,message:s.message||`${e} is invalid`})}return a}validateMultipleFields(e,r){let i=[];return Object.keys(r).forEach(a=>{let n=e[a],s=r[a],u=this.validateFormField(a,n,s);i.push(...u)}),{isValid:i.length===0,errors:i}}sanitizeHtml(e){return t.sanitizeHtml(e)}validateFileUpload(e,r){if(!e)return{isValid:!1,error:"File is required"};if(r.maxSize&&e.size>r.maxSize)return{isValid:!1,error:`File size must be less than ${(r.maxSize/1048576).toFixed(1)}MB`};if(r.allowedTypes&&!r.allowedTypes.includes(e.type))return{isValid:!1,error:`File type not allowed. Allowed types: ${r.allowedTypes.join(", ")}`};if(r.allowedExtensions){let i=e.name.split(".").pop()?.toLowerCase();if(!i||!r.allowedExtensions.includes(i))return{isValid:!1,error:`File extension not allowed. Allowed extensions: ${r.allowedExtensions.join(", ")}`}}return{isValid:!0}}static createValidationRules(){return{required:e=>({validator:r=>({isValid:r!=null&&(typeof r!="string"||r.trim().length>0),message:e||"This field is required"})}),minLength:(e,r)=>({validator:i=>({isValid:!i||i.length>=e,message:r||`Must be at least ${e} characters`})}),maxLength:(e,r)=>({validator:i=>({isValid:!i||i.length<=e,message:r||`Must be no more than ${e} characters`})}),email:e=>({validator:r=>({isValid:!r||t.isValidEmail(r),message:e||"Please enter a valid email address"})}),url:e=>({validator:r=>({isValid:!r||t.isValidUrl(r),message:e||"Please enter a valid URL"})}),pattern:(e,r)=>({validator:i=>({isValid:!i||e.test(i),message:r||"Invalid format"})}),custom:(e,r)=>({validator:i=>({isValid:e(i),message:r})})}}static \u0275fac=function(r){return new(r||o)};static \u0275prov=f({token:o,factory:o.\u0275fac,providedIn:"root"})};export{d as a};
